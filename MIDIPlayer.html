<!DOCTYPE html><html xmlns=http://www.w3.org/1999/xhtml><head><meta http-equiv=content-type content="text/html; charset=utf-8"><title>MIDI Player - powered by MIDI.js</title><link href=static/MIDIPlayer.min.css rel=stylesheet type="text/css"><script src=static/MIDI.min.js type=text/javascript></script><body><h2>MIDI Player - Powered by <a href="https://github.com/mudcube/MIDI.js/" target=_blank>MIDI.js</a></h2><h4>Modified by Linus Yang</h4><div style=position:fixed;top:0;left:0;z-index:4;border-radius:5px;overflow:hidden id=colors></div><div style=text-align:center;border-radius:5px;position:absolute;top:-70px;left:-40px;opacity:.9 id=colors></div><div style="margin-bottom:50px;border:1px solid #000;background:rgba(255,255,255,.5);border-radius:10px;float:left;width:800px;padding-bottom:100px;position:relative;z-index:2"><div style="position:relative;color:#000;z-index:-1;padding:5px 11px 5px">Select a midi file: <input type=file id=fileInput></div><div class=player style="height:42px;box-shadow:0 -1px #000;margin-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0"><div style="margin:0 auto;width:160px;float:right"><input type=image src=static/pause.png align=absmiddle value=pause onclick=pausePlayStop() id=pausePlayStop> <input type=image src=static/stop.png align=absmiddle value=stop onclick=pausePlayStop(!0)></div><div class=time-controls style=float:left;margin:0;position:relative;top:5px><span id=time1 class=time>0:00</span> <span id=capsule><span id=cursor></span></span> <span id=time2 class=time style=text-align:left>-0:00</span></div></div><div id=title style="background:rgba(255,255,0,.5);position:relative;color:#000;z-index:-1;padding:5px 11px 5px">No file selected</div></div><script type=text/javascript>if("undefined"==typeof console)var console={log:function(){}};var player,pausePlayStop=function(e){var t=document.getElementById("pausePlayStop");e?(MIDI.Player.stop(),t.src="static/play.png"):MIDI.Player.playing?(t.src="static/play.png",MIDI.Player.pause(!0)):(t.src="static/pause.png",MIDI.Player.resume())};eventjs.add(window,"load",function(){for(var e=document.getElementById("colors"),t=[],n=0;88>n;n++){var a=document.createElement("div");a.innerHTML=MIDI.noteToKey[n+21],t.push(a),e.appendChild(a)}player=MIDI.Player,MIDI.loader=new widgets.Loader;var r=MusicTheory.Synesthesia.map();player.addListener(function(e){var n=e.note-MIDI.pianoKeyOffset,a=t[n];if(144===e.message){var o=r[e.note-27];o&&(a.style.background=o.hex),a.style.color="#fff"}else a.style.background="",a.style.color=""}),MIDIPlayerPercentage(player);var o=document.getElementById("fileInput"),l=document.getElementById("title");o.addEventListener("change",function(){var e=o.files[0],t=/midi.*/;if(player.stop(),e.type.match(t)){var n=new FileReader;n.onload=function(){MIDI.loadPlugin(function(){l.innerHTML='Loaded "'+e.name+'"',player.timeWarp=1,player.loadFile(n.result,function(){var e=document.getElementById("pausePlayStop");e.src="static/pause.png",player.start()}),MIDI.loader.stop()})},n.readAsDataURL(e)}else{var a=document.getElementById("pausePlayStop");a.src="static/play.png",l.innerHTML="File not supported."}})});var MIDIPlayerPercentage=function(e){function t(e){var t=e/60>>0,n=String(e-60*t>>0);return 1==n.length&&(n="0"+n),t+":"+n}var n=document.getElementById("time1"),a=document.getElementById("time2"),r=document.getElementById("capsule"),o=document.getElementById("cursor");eventjs.add(r,"drag",function(t,n){eventjs.cancel(t),e.currentTime=n.x/420*e.endTime,e.currentTime<0&&(e.currentTime=0),e.currentTime>e.endTime&&(e.currentTime=e.endTime),"down"===n.state?e.pause(!0):"up"===n.state&&e.resume()}),e.setAnimation(function(r){var l=r.now/r.end,i=r.now>>0,s=r.end>>0;if(i===s){var d=document.getElementById("pausePlayStop");e.stop(),d.src="static/play.png"}o.style.width=100*l+"%",n.innerHTML=t(i),a.innerHTML="-"+t(s-i)})};</script>